<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Text Sticker Example</title>
  <style>
 

  </style>
</head>
<body>
  
  <div class="sticker">
    <h2>Whatsapp bot </h2>
     
  </div>
  <div class="status"></div>
  <script>
 const socket = new WebSocket('ws://127.0.0.1:3000')
  socket.addEventListener('open',(event)=>{
    socket.send('Connected succesfully')
    
  })
  socket.addEventListener('message',(event)=>{
     console.log(event.data)

   if (event.data.startsWith('data')) {
    const stickerContainer = document.querySelector('.sticker');
    
    // Check if .sticker container already contains an image
    const existingImage = stickerContainer.querySelector('img');

    if (existingImage) {
        // If an image exists, remove it
        existingImage.remove();
    }

    // Create a new image and append it to .sticker container
    const img = document.createElement('img');
    img.src = event.data;
    stickerContainer.appendChild(img);
}else{
     document.querySelector('.status').textContent = event.data
}

  })
  </script>
</body>
</html>
